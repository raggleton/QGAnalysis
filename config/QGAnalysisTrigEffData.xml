<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE JobConfiguration PUBLIC "" "JobConfig.dtd" [

    <!ENTITY NEVT "-1">

    <!-- Output directories -->
    <!ENTITY ODIR-SINGLEMU "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/Selection/SingleMu">
    <!ENTITY ODIR-JETHT "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/Selection/JetHT">

    <!ENTITY COMMON SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/config/commonData.xml">
  
    <!ENTITY SINGLEMU-B SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/SingleMu/RunB.xml">
    <!ENTITY SINGLEMU-C SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/SingleMu/RunC.xml">
    <!ENTITY SINGLEMU-D SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/SingleMu/RunD.xml">
    <!ENTITY SINGLEMU-E SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/SingleMu/RunE.xml">
    <!ENTITY SINGLEMU-F SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/SingleMu/RunF.xml">
    <!ENTITY SINGLEMU-G SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/SingleMu/RunG.xml">
    <!ENTITY SINGLEMU-H-v2 SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/SingleMu/RunH_ver2.xml">
    <!ENTITY SINGLEMU-H-v3 SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/SingleMu/RunH_ver3.xml">

    <!-- Jet config snippets -->
    <!ENTITY AK4CHS SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/config/ak4chsData.xml">
    <!ENTITY AK4PUPPI SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/config/ak4puppiData.xml">
    <!ENTITY AK8CHS SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/config/ak8chsData.xml">
    <!ENTITY AK8PUPPI SYSTEM "/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/config/ak8puppiData.xml">
]>


<!-- MUST run SFrameBatch inside QGAnalyis/config! -->
<!-- split 150 for herwig -->
<!-- split 3 for mgpythia -->

<!--
   <ConfigParse NEventsBreak="0" LastBreak="0" FileSplit="200" />
   <ConfigSGE RAM ="4" DISK ="2" Mail="robin.aggleton@desy.de" Notification="eas" Workdir="workdir_ak4chs_jettrig"/>
-->


<!-- OutputLevel controls which messages are printed; set to VERBOSE or DEBUG for more verbosity, to WARNING or ERROR for less -->
<JobConfiguration JobName="ExampleCycleJob" OutputLevel="INFO">
    <Library Name="libSUHH2QGAnalysis"/>
    <Package Name="SUHH2QGAnalysis.par" />

    <Cycle Name="uhh2::AnalysisModuleRunner" OutputDirectory="&ODIR-SINGLEMU;/" PostFix="" TargetLumi="1" >

        <!-- TEST FILES -->
        <InputData Lumi="1" NEventsMax="-1" Type="DATA" Version="Data_SingleMu_JetTrig" Cacheable="False">
        <!-- <In FileName="/pnfs/desy.de/cms/tier2/store/user/raggleto/SingleMuon/crab_SingleMuon_Run2016E-03Feb2017-v1_10_Feb_18_newRecoJetFlav_fixPuppi_v3/180210_120754/0000/Ntuple_1.root" Lumi="0.0"/> -->
        &SINGLEMU-B;
        &SINGLEMU-C;
        &SINGLEMU-D;
        &SINGLEMU-E;
        &SINGLEMU-F;
        &SINGLEMU-G;
        &SINGLEMU-H-v2;
        &SINGLEMU-H-v3;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <!-- <InputData Lumi="1" NEventsMax="10000" Type="DATA" Version="Data_JetHT" Cacheable="False">
        <In FileName="/pnfs/desy.de/cms/tier2/store/user/raggleto/SingleMuon/crab_SingleMuon_Run2016C-03Feb2017-v1_15_Jan_18_newRecoJetFlav_v5/180115_082326/0000/Ntuple_10.root" Lumi="0.0"/>
        <InputTree Name="AnalysisTree"/>
        </InputData>
         -->
        <UserConfig>
            <Item Name="PrimaryVertexCollection" Value="offlineSlimmedPrimaryVertices" />
            <Item Name="ElectronCollection" Value="slimmedElectronsUSER" />
            <!-- <Item Name="ElectronCollection" Value="slimmedElectrons" /> -->
            <Item Name="MuonCollection" Value="slimmedMuonsUSER" />

            <!-- <Item Name="GenParticleCollection" Value="GenParticles" /> -->

            <!-- the class name of the AnalysisModule subclasses to run: -->
            <Item Name="AnalysisModule" Value="QGAnalysisJetTrigErrModule" />

            <!-- tell AnalysisModuleRunner NOT to use the MC event weight from SFrame; rather let
             MCLumiWeight (called via CommonModules) calculate the MC event weight. The MC
             event weight assigned by MCLumiWeight is InputData.Lumi / Cycle.TargetLumi. -->
            <Item Name="use_sframe_weight" Value="false" />


            <Item Name="lumi_file" Value="/nfs/dust/cms/user/aggleton/QG/CMSSW_8_0_24_patch1/src/UHH2/common/data/Cert_271036-284044_13TeV_23Sep2016ReReco_Collisions16_JSON.root"/>
            <!-- Choose your jet configuration -->

            &AK4CHS;
            <!-- &AK4PUPPI; -->
            <!-- &AK8CHS; -->
            <!-- &AK8PUPPI; -->
            <Item Name="useGenPartonFlav" Value="true"/>
        </UserConfig>
    </Cycle>

</JobConfiguration>
