<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE JobConfiguration PUBLIC "" "JobConfig.dtd" [

    <!ENTITY NEVT "-1">

    <!-- Output directories -->
    <!ENTITY ODIR-MG-PYTHIA "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/Selection/MGPythia">
    <!ENTITY ODIR-HERWIG "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/Selection/Herwig">
    <!ENTITY ODIR-PYTHIA "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/Selection/PythiaOnlyFlat">

    <!-- OLD partial datasets: create input XMl using createConfigSnippets.py -->
    <!-- <!ENTITY INPUT SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/config/100K/input.xml"> -->
    <!-- <!ENTITY INPUT SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/config/Herwig/input.xml"> -->
    <!-- <!ENTITY INPUT SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/config/PythiaOnlyFlat/input.xml"> -->

    <!-- Full datasets -->
    <!ENTITY MG-PYTHIA-DYJetsToLL_HT70to100 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/DYJetsToLL_HT70to100.xml">
    <!ENTITY MG-PYTHIA-DYJetsToLL_HT100to200 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/DYJetsToLL_HT100to200.xml">
    <!ENTITY MG-PYTHIA-DYJetsToLL_HT200to400 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/DYJetsToLL_HT200to400.xml">
    <!ENTITY MG-PYTHIA-DYJetsToLL_HT400to600 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/DYJetsToLL_HT400to600.xml">
    <!ENTITY MG-PYTHIA-DYJetsToLL_HT600to800 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/DYJetsToLL_HT600to800.xml">
    <!ENTITY MG-PYTHIA-DYJetsToLL_HT800to1200 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/DYJetsToLL_HT800to1200.xml">
    <!ENTITY MG-PYTHIA-DYJetsToLL_HT1200to2500 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/DYJetsToLL_HT1200to2500.xml">
    <!ENTITY MG-PYTHIA-DYJetsToLL_HT2500toInf SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/DYJetsToLL_HT2500toInf.xml">
    
    <!ENTITY MG-PYTHIA-QCD_HT50to100 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/QCD_HT50to100.xml">
    <!ENTITY MG-PYTHIA-QCD_HT100to200 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/QCD_HT100to200.xml">
    <!ENTITY MG-PYTHIA-QCD_HT200to300 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/QCD_HT200to300.xml">
    <!ENTITY MG-PYTHIA-QCD_HT300to500 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/QCD_HT300to500.xml">
    <!ENTITY MG-PYTHIA-QCD_HT500to700 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/QCD_HT500to700.xml">
    <!ENTITY MG-PYTHIA-QCD_HT700to1000 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/QCD_HT700to1000.xml">
    <!ENTITY MG-PYTHIA-QCD_HT1000to1500 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/QCD_HT1000to1500.xml">
    <!ENTITY MG-PYTHIA-QCD_HT1500to2000 SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/QCD_HT1500to2000.xml">
    <!ENTITY MG-PYTHIA-QCD_HT2000toInf SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Pythia/QCD_HT2000toInf.xml">
    
    <!ENTITY HERWIG-QCD SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/HerwigOnly/QCD_Pt15to7000_Flat.xml">
    <!ENTITY MG-HERWIG-DY SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/MG-Herwig/DYJetsToLL.xml">
    <!ENTITY PYTHIA-QCD SYSTEM "/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/datasets/PythiaOnly/QCD_Pt15to7000_Flat.xml">
]>


<!-- MUST run SFrameBatch inside QGAnalyis/config! -->
<!-- split 50 for herwig -->
<!-- split 5 for mgpythia -->

<!--
   <ConfigParse NEventsBreak="0" LastBreak="0" FileSplit="5" />
   <ConfigSGE RAM ="2" DISK ="2" Mail="robin.aggleton@desy.de" Notification="ea" Workdir="workdir_ak4chs_mgpythia"/>
-->


<!-- OutputLevel controls which messages are printed; set to VERBOSE or DEBUG for more verbosity, to WARNING or ERROR for less -->
<JobConfiguration JobName="ExampleCycleJob" OutputLevel="INFO">
    <Library Name="libSUHH2QGAnalysis"/>
    <Package Name="SUHH2QGAnalysis.par" />

   <Cycle Name="uhh2::AnalysisModuleRunner" OutputDirectory="&ODIR-MG-PYTHIA;/" PostFix="" TargetLumi="1" >
        <!-- &INPUT; -->

        <InputData Lumi="43437.368692" NEventsMax="&NEVT;" Type="MC" Version="MC_DYJetsToLL_M-50_HT-70to100" Cacheable="False">
        &MG-PYTHIA-DYJetsToLL_HT70to100;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="57950.9382136" NEventsMax="&NEVT;" Type="MC" Version="MC_DYJetsToLL_M-50_HT-100to200" Cacheable="False">
        &MG-PYTHIA-DYJetsToLL_HT100to200;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="190482.60829" NEventsMax="&NEVT;" Type="MC" Version="MC_DYJetsToLL_M-50_HT-200to400" Cacheable="False">
        &MG-PYTHIA-DYJetsToLL_HT200to400;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="253151.67743" NEventsMax="&NEVT;" Type="MC" Version="MC_DYJetsToLL_M-50_HT-400to600" Cacheable="False">
        &MG-PYTHIA-DYJetsToLL_HT400to600;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="4842631.14072" NEventsMax="&NEVT;" Type="MC" Version="MC_DYJetsToLL_M-50_HT-600to800" Cacheable="False">
        &MG-PYTHIA-DYJetsToLL_HT600to800;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="3441205.82925" NEventsMax="&NEVT;" Type="MC" Version="MC_DYJetsToLL_M-50_HT-800to1200" Cacheable="False">
        &MG-PYTHIA-DYJetsToLL_HT800to1200;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="3200354.45757" NEventsMax="&NEVT;" Type="MC" Version="MC_DYJetsToLL_M-50_HT-1200to2500" Cacheable="False">
        &MG-PYTHIA-DYJetsToLL_HT1200to2500;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="79409090.9091" NEventsMax="&NEVT;" Type="MC" Version="MC_DYJetsToLL_M-50_HT-2500toInf" Cacheable="False">
        &MG-PYTHIA-DYJetsToLL_HT2500toInf;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="2.85758227939" NEventsMax="&NEVT;" Type="MC" Version="MC_QCD_HT100to200" Cacheable="False">
        &MG-PYTHIA-QCD_HT100to200;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="10.8490852804" NEventsMax="&NEVT;" Type="MC" Version="MC_QCD_HT200to300" Cacheable="False">
        &MG-PYTHIA-QCD_HT200to300;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="48.8514524015" NEventsMax="&NEVT;" Type="MC" Version="MC_QCD_HT300to500" Cacheable="False">
        &MG-PYTHIA-QCD_HT300to500;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="564.790654206" NEventsMax="&NEVT;" Type="MC" Version="MC_QCD_HT500to700" Cacheable="False">
        &MG-PYTHIA-QCD_HT500to700;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="2287.84643537" NEventsMax="&NEVT;" Type="MC" Version="MC_QCD_HT700to1000" Cacheable="False">
        &MG-PYTHIA-QCD_HT700to1000;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="3907.6006628" NEventsMax="&NEVT;" Type="MC" Version="MC_QCD_HT1000to1500" Cacheable="False">
        &MG-PYTHIA-QCD_HT1000to1500;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="30193.5195997" NEventsMax="&NEVT;" Type="MC" Version="MC_QCD_HT1500to2000" Cacheable="False">
        &MG-PYTHIA-QCD_HT1500to2000;
        <InputTree Name="AnalysisTree"/>
        </InputData>

        <InputData Lumi="76882.0919176" NEventsMax="&NEVT;" Type="MC" Version="MC_QCD_HT2000toInf" Cacheable="False">
        &MG-PYTHIA-QCD_HT2000toInf;
        <InputTree Name="AnalysisTree"/>
        </InputData>

<!-- TEST FILES -->
<!--         <InputData Lumi="1" NEventsMax="10" Type="MC" Version="MC_Test" Cacheable="False">
        <In FileName="/pnfs/desy.de/cms/tier2/store/user/raggleto/DYJetsToLL_M-50_HT-100to200_TuneCUETP8M1_13TeV-madgraphMLM-pythia8/crab_DYJetsToLL_M-50_HT-100to200_ext_mg-pythia_01_Aug_17_test8/170801_141859/0000/Ntuple_1.root" Lumi="0.0"/>
        <InputTree Name="AnalysisTree"/>
        </InputData>
 -->

<!--         <InputData Lumi="1" NEventsMax="10000" Type="MC" Version="MC_Test" Cacheable="False">
            <In FileName="/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/Ntuples/100K/DYJetsToLL_M-50_HT-200to400/Ntuple_MC_DYJetsToLL_M-50_HT-200to400.root" Lumi="0.0"/>
            <In FileName="/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/Ntuples/100K/Ntuple_MC_QCD_HT200to300.root" Lumi="0.0"/>
            <InputTree Name="AnalysisTree" />
        </InputData>
 -->
            <!-- <In FileName="/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/Ntuples/Herwig/DYJetsToLL/Ntuple_MC_HERWIG_DYJetsToLL_M-50_0.root" Lumi="0.0"/> -->

<!--          <InputData Lumi="1" NEventsMax="1000" Type="MC" Version="MC_Test" Cacheable="False">
            <In FileName="/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/Ntuples/Herwig/QCD/Ntuple_MC_HERWIG_QCD_0.root" Lumi="0.0"/>
            <InputTree Name="AnalysisTree" />
        </InputData>

 -->
        <UserConfig>
            <!-- define which collections to read from the input. Only specify what you need to save I/O time -->
            <Item Name="PrimaryVertexCollection" Value="offlineSlimmedPrimaryVertices" />
            <Item Name="ElectronCollection" Value="slimmedElectronsUSER" />
            <Item Name="MuonCollection" Value="slimmedMuonsUSER" />
            <!-- <Item Name="TauCollection" Value="slimmedTaus" /> -->

            <!-- ak4 jets -->
            <Item Name="JetCone" Value="AK4" />
            <Item Name="GenJetCollection" Value="slimmedGenJets" />

            <!-- CHS -->
            <Item Name="JetCollection" Value="slimmedJets" />
            <Item Name="METName" Value="slimmedMETs" />
            <Item Name="PURemoval" Value="CHS" />

            <!-- PUPPI -->
            <!-- <Item Name="JetCollection" Value="slimmedJetsPuppi" /> -->
            <!-- <Item Name="METName" Value="slimmedMETsPuppi" /> -->
            <!-- <Item Name="PURemoval" Value="PUPPI" /> -->

            <!-- ak8 jets -->
            <!-- <Item Name="JetCone" Value="AK8" /> -->
            <!-- <Item Name="GenJetCollection" Value="slimmedGenJetsAK8" /> -->

            <!-- CHS -->
            <!-- <Item Name="JetCollection" Value="patJetsAK8PFCHS" /> -->
            <!-- <Item Name="METName" Value="slimmedMETs" /> -->
            <!-- <Item Name="PURemoval" Value="CHS" /> -->

            <!-- PUPPI -->
            <!-- <Item Name="JetCollection" Value="patJetsAK8PFPUPPI" /> -->
            <!-- <Item Name="METName" Value="slimmedMETsPuppi" /> -->
            <!-- <Item Name="PURemoval" Value="PUPPI" /> -->


            <Item Name="GenParticleCollection" Value="GenParticles" />

            <!-- the class name of the AnalysisModule subclasses to run: -->
            <Item Name="AnalysisModule" Value="QGAnalysisModule" />

            <!-- tell AnalysisModuleRunner NOT to use the MC event weight from SFrame; rather let
                 MCLumiWeight (called via CommonModules) calculate the MC event weight. The MC
                 event weight assigned by MCLumiWeight is InputData.Lumi / Cycle.TargetLumi. -->
            <Item Name="use_sframe_weight" Value="false" />


            <!-- If you want to reweight herwig pT spectrum to match Pythia -->
            <!-- <Item Name="herwig_reweight_file" Value="/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/utils/herwig_weights_ak4chs.root" /> -->
            <!-- <Item Name="herwig_reweight_file" Value="/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/utils/herwig_weights_ak4puppi.root" /> -->
            <!-- <Item Name="herwig_reweight_file" Value="/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/utils/herwig_weights_ak8chs.root" /> -->
            <!-- <Item Name="herwig_reweight_file" Value="/nfs/dust/cms/user/aggleton/CMSSW_8_0_24_patch1/src/UHH2/QGAnalysis/utils/herwig_weights_ak8puppi.root" /> -->
            <Item Name="herwig_reweight_file" Value="" />

        </UserConfig>
    </Cycle>
</JobConfiguration>
